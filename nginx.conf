# Worker processes and connections (adjust as needed for higher load)
events {
    worker_connections 1024;
}

http {
    # Include MIME types
    include /etc/nginx/mime.types;
    default_type application/octet-stream;

    server {
        # Listen on port 80 for HTTP requests
        listen 80;

        # Replace 'your-proxy-domain.railway.app' with the domain Railway assigns,
        # or remove if you're only accessing via IP or local testing.
        # This is more for formality or if you set up a custom domain.
        server_name localhost; # Or your Railway domain (e.g., your-project-name.up.railway.app)

        location / {
            # The crucial line: proxy requests to the target website
            # **REPLACE THIS URL WITH THE BLOCKED WEBSITE YOU WANT TO ACCESS**
            proxy_pass https://www.google.com;

            # Set standard proxy headers to pass client information
            proxy_set_header Host $host; # Pass the original host header
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;

            # Optional: Adjust timeouts if the target site is slow
            proxy_connect_timeout 600s;
            proxy_send_timeout 600s;
            proxy_read_timeout 600s;

            # Optional: Handle redirects from the target site correctly
            proxy_redirect off;
        }
    }
}